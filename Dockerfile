# set base image (host OS)
FROM python:3.9-slim

ENV VIRTUAL_ENV=/opt/venv
RUN python -m venv $VIRTUAL_ENV && chown -R 101 /opt/venv
ENV PATH="$VIRTUAL_ENV/bin:$PATH"

USER 101

COPY requirements.txt /requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

COPY entrypoint.py /entrypoint.py

ENTRYPOINT ["/entrypoint.py"]
